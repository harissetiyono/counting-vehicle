{"remainingRequest":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haris/Development/counting/client/src/pages/face_recognition/FaceFind.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haris/Development/counting/client/src/pages/face_recognition/FaceFind.vue","mtime":1578403816589},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBWdWVMb2FkSW1hZ2UgZnJvbSAndnVlLWxvYWQtaW1hZ2UnCmV4cG9ydCBkZWZhdWx0IHsKICAgIC8vIGNvbXBvbmVudHM6IHsndnVlLWxvYWQtaW1hZ2UnOiBWdWVMb2FkSW1hZ2UgfSwKICAgIHByb3BzOiB7CiAgICAgIHNvdXJjZTogU3RyaW5nLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgY2FyZHM6IFtdLAogICAgICAgIHN0YXR1czogbnVsbCwKICAgICAgICBwaG90byA6IG51bGwsCiAgICAgICAgcGhvdG9fY29tcGFyZSA6ICdAL2Fzc2V0cy9sb2FkaW5nLmdpZicsCiAgICAgICAgcGhvdG9fZmlsZTogbnVsbCwKICAgICAgICB0b2xlcmFuY2U6IDUwLAogICAgICAgIHNob3dCb3ggOiBmYWxzZSwKICAgICAgICBwcm9ncmVzczogdHJ1ZSwKICAgICAgICBwZXJjZW50YWdlOiAwCiAgICB9KSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZmluZEFjdGlvbigpewogICAgICAgICAgICB0aGlzLnNob3dCb3ggPSB0cnVlCiAgICAgICAgICAgIHRoaXMuY2FyZHMgPSBbXQogICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpCgogICAgICAgICAgICBkYXRhLmFwcGVuZCgnbmFtZScsICdpbWFnZScpCiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy5waG90b19maWxlKQogICAgICAgICAgICBkYXRhLmFwcGVuZCgndG9sZXJhbmNlJywgdGhpcy50b2xlcmFuY2UpCgogICAgICAgICAgICBsZXQgY29uZmlnID0gewogICAgICAgICAgICAgICAgaGVhZGVyIDogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZScgOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9JUF9TRVJWRVIgKyAnL2ZpbmRfZmFjZScsIGRhdGEsIGNvbmZpZykKICAgICAgICB9LAoKICAgICAgICBjaGVjaygpewogICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnBob3RvID0gZXZlbnQudGFyZ2V0LnJlc3VsdAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMucGhvdG9fZmlsZSkKICAgICAgICAgICAgdGhpcy5jYXJkcyA9IFtdCiAgICAgICAgfSwKICAgIH0sCgogICAgc29ja2V0czogewogICAgICBjb25uZWN0OiBmdW5jdGlvbiAoKXsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc29ja2V0IGNvbm5lY3RlZCcpCiAgICAgIH0sCiAgICAgIGZpbmRfZmFjZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAiY29ycmVjdCIpIHsKICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICJDb3JyZWN0IgogICAgICAgICAgICAgIHRoaXMuY2FyZHMudW5zaGlmdCh7c3JjIDogJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJyArIGRhdGEucGhvdG8sIGZsZXg6IDJ9KSAKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gIkluY29ycmVjdCIKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMucGhvdG9fY29tcGFyZSA9ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCcgKyBkYXRhLnBob3RvCiAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSBkYXRhLnBlcmNlbnRhZ2UKICAgICAgfQogICAgfSwKICB9Cg=="},{"version":3,"sources":["FaceFind.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FaceFind.vue","sourceRoot":"src/pages/face_recognition","sourcesContent":["<template>\n    <v-row\n        align=\"start\"\n        justify=\"center\"\n    >\n        <v-col cols=\"12\">\n            <v-card class=\"pa-2\" outlined>\n                <v-row class=\"my-n4\">\n                    <v-col class=\"mt-n2\" cols=\"6\">\n                        <v-subheader class=\"pl-8\">Photo File</v-subheader>\n                        <v-file-input\n                            v-model=\"photo_file\"\n                            prepend-icon=\"mdi-camera\"\n                            dense\n                            @change=\"check\"\n                        ></v-file-input>\n                    </v-col>\n                    <v-col class=\"mt-2\" cols=\"4\">\n                        <v-subheader class=\"pl-0\">Tolerance</v-subheader>\n                        <v-slider\n                        dense\n                        v-model=\"tolerance\"\n                        thumb-label=\"always\"\n                        ></v-slider>\n                    </v-col>\n                    <v-col class=\"mt-2\" cols=\"1\">\n                        <v-btn color=\"primary\" small dark @click=\"findAction\">\n                            Filter\n                        </v-btn>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n\n        <v-col cols=\"12\">\n            <v-card class=\"pa-2\" v-if=\"showBox == true\">\n                <v-row\n                    class=\"pa-1\"\n                    align=\"center\"\n                    justify=\"space-around\"\n                >\n                <v-col cols=\"auto\">\n                    <v-card> \n                        <v-img width=\"200\" height=\"300\" :src=\"photo\" ></v-img>\n                    </v-card>\n                </v-col>\n                <v-col cols=\"2\">\n                    <v-progress-circular\n                        :rotate=\"-90\"\n                        :size=\"200\"\n                        :width=\"20\"\n                        :value=\"percentage\"\n                        color=\"primary\"\n                        >\n                        <p class=\"display-2 pt-5\"> {{ percentage}}</p>\n                    </v-progress-circular>\n                </v-col>\n                 <v-col cols=\"auto\">\n                     <v-card>\n                        <v-img width=\"200\" height=\"300\" :src=\"photo_compare\"></v-img>\n                     </v-card>\n                </v-col>\n                </v-row>\n                \n                <v-divider></v-divider>\n                <v-row\n                    class=\"pa-1\"\n                    align=\"start\"\n                    justify=\"center\"\n                >\n                    <v-col\n                        v-for=\"card in cards\"\n                        :key=\"card.title\"\n                        :cols=\"card.flex\"\n                    >\n                    <v-card outlined>\n                        <!-- <vue-load-image>\n                            <img slot=\"image\" :src=\"card.src\" style=\"width: 100%\"/>\n                            <v-img slot=\"preloader\" src=\"@/assets/preloader.gif\"/>\n                            <v-img slot=\"error\" src=\"@/assets/offline.jpg\" aspect-ratio=\"1.7\"/>\n                        </vue-load-image> -->\n                        <v-img\n                            :src=\"card.src\"\n                            class=\"white--text align-end\"\n                            height=\"200px\"\n                        >\n                        </v-img>\n                        <v-card-title v-text=\"card.title\" class=\"subtitle-2 my-n2\"></v-card-title>\n                        <v-card-text class=\"overline mt-n4 mb-n2\">\n                            <div>Camera 1</div>\n                            <div>2019-02-23 18:00 WIB</div>\n                        </v-card-text>\n                    </v-card>\n                    </v-col>\n                </v-row>\n            </v-card>\n        </v-col>\n    </v-row>\n</template>\n\n<script>\n// import VueLoadImage from 'vue-load-image'\nexport default {\n    // components: {'vue-load-image': VueLoadImage },\n    props: {\n      source: String,\n    },\n    data: () => ({\n        cards: [],\n        status: null,\n        photo : null,\n        photo_compare : '@/assets/loading.gif',\n        photo_file: null,\n        tolerance: 50,\n        showBox : false,\n        progress: true,\n        percentage: 0\n    }),\n\n    methods: {\n        async findAction(){\n            this.showBox = true\n            this.cards = []\n            let data = new FormData()\n\n            data.append('name', 'image')\n            data.append('file', this.photo_file)\n            data.append('tolerance', this.tolerance)\n\n            let config = {\n                header : {\n                'Content-Type' : 'multipart/form-data'\n                }\n            }\n            await this.axios.post(process.env.VUE_APP_IP_SERVER + '/find_face', data, config)\n        },\n\n        check(){\n            let reader = new FileReader()\n            reader.onload = (event) => {\n                this.photo = event.target.result\n            }\n            reader.readAsDataURL(this.photo_file)\n            this.cards = []\n        },\n    },\n\n    sockets: {\n      connect: function (){\n          window.console.log('socket connected')\n      },\n      find_face: function (data) {\n          if (data.status == \"correct\") {\n              this.status = \"Correct\"\n              this.cards.unshift({src : 'data:image/jpeg;base64,' + data.photo, flex: 2}) \n          }else{\n              this.status = \"Incorrect\"\n          }\n          this.photo_compare = 'data:image/jpeg;base64,' + data.photo\n          this.percentage = data.percentage\n      }\n    },\n  }\n</script>"]}]}