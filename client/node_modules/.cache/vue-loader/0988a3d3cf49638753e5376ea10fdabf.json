{"remainingRequest":"/Users/haris/Development/counting/frontend-counting/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haris/Development/counting/frontend-counting/src/pages/LiveDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haris/Development/counting/frontend-counting/src/pages/LiveDetail.vue","mtime":1574929392443},{"path":"/Users/haris/Development/counting/frontend-counting/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/frontend-counting/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/frontend-counting/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haris/Development/counting/frontend-counting/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/frontend-counting/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVBcGV4Q2hhcnRzIGZyb20gJ3Z1ZS1hcGV4Y2hhcnRzJwogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsgYXBleGNoYXJ0OiBWdWVBcGV4Q2hhcnRzIH0sCiAgICBwcm9wczogewogICAgICBzb3VyY2U6IFN0cmluZywKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGlkX2NhbWVyYSA6ICcnLAogICAgICAgIHBvcnQ6ICcnLAogICAgICAgIGNhbWVyYXM6W10sCiAgICAgICAgdmlkZW9EZWZhdWx0OiAiQC9hc3NldHMvbG9hZGluZy5naWYiLAogICAgICAgIHN0YXJ0X2RhdGU6IG1vbWVudCgpLnR6KCdBc2lhL0pha2FydGEnKS5zdGFydE9mKCdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwKICAgICAgICBlbmRfZGF0ZTogbW9tZW50KCkudHooJ0FzaWEvSmFrYXJ0YScpLmVuZE9mKCdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwKCiAgICAgICAgc2VyaWVzUGllOiBbNDQsIDU1LCAxMywgNDNdLAogICAgICAgIGNoYXJ0T3B0aW9uc1BpZTogewogICAgICAgICAgbGFiZWxzOiBbJ01vYmlsJywgJ01vdG9yJywgJ1RydWNrJywgJ0J1cyddLAogICAgICAgICAgcmVzcG9uc2l2ZTogW3sKICAgICAgICAgICAgYnJlYWtwb2ludDogNDgwLAogICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiAzMDAKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0sCgogICAgICAgIHNlcmllczogW10sCiAgICAgICAgY2hhcnRPcHRpb25zOiB7CiAgICAgICAgICBjaGFydDogewogICAgICAgICAgICBzaGFkb3c6IHsKICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgIGNvbG9yOiAnIzAwMCcsCiAgICAgICAgICAgICAgdG9wOiAxOCwKICAgICAgICAgICAgICBsZWZ0OiA3LAogICAgICAgICAgICAgIGJsdXI6IDEwLAogICAgICAgICAgICAgIG9wYWNpdHk6IDEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9vbGJhcjogewogICAgICAgICAgICAgIHNob3c6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgfSwKCiAgICAgICAgICBjb2xvcnM6IFsncmdiKDAsMTM0LDI1MSknLCAncmdiKDAsMjI3LDE1MCknLCAncmdiKDI1NCwxNzYsMjUpJywgJ3JnYigyNTUsNjksOTYpJ10sCiAgICAgICAgICBkYXRhTGFiZWxzOiB7CiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgICAgc3Ryb2tlOiB7CiAgICAgICAgICAgIGN1cnZlOiAnc21vb3RoJwogICAgICAgICAgfSwKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICdMaXZlIHRyYWZmaWMgdG9kYXknLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnCiAgICAgICAgICB9LAogICAgICAgICAgZ3JpZDogewogICAgICAgICAgICBib3JkZXJDb2xvcjogJyNlN2U3ZTcnLAogICAgICAgICAgICByb3c6IHsKICAgICAgICAgICAgICBjb2xvcnM6IFsnI2YzZjNmMycsICd0cmFuc3BhcmVudCddLCAvLyB0YWtlcyBhbiBhcnJheSB3aGljaCB3aWxsIGJlIHJlcGVhdGVkIG9uIGNvbHVtbnMKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBtYXJrZXJzOiB7CiAgICAgICAgICAgIHNpemU6IDYKICAgICAgICAgIH0sCiAgICAgICAgICB4YXhpczogewogICAgICAgICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICB0ZXh0OiAnVGltZScKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHlheGlzOiB7CiAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgdGV4dDogJ0NvdW50JwogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ3JpZ2h0JywKICAgICAgICAgICAgZmxvYXRpbmc6IHRydWUsCiAgICAgICAgICAgIG9mZnNldFk6IC0yNSwKICAgICAgICAgICAgb2Zmc2V0WDogLTUKICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBsaXZlQ291bnQ6W3sKICAgICAgICAgICdtb2JpbCcgOiBbMCwwXSwKICAgICAgICAgICdtb3RvcicgOiBbMCwwXSwKICAgICAgICAgICd0cnVjaycgOiBbMCwwXSwKICAgICAgICAgICdidXMnIDogWzAsMF0sCiAgICAgICAgfV0sCiAgICB9KSwKCiAgICBjcmVhdGVkICgpIHsKICAgICAgY29uc3QgaWRfY2FtZXJhID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIHRoaXMuZ2V0RGF0YShpZF9jYW1lcmEpCiAgICAgIHRoaXMudHJhZmZpY190b2RheSgpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBnZXREYXRhKGlkX2NhbWVyYSl7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDEvY2FtZXJhLycgKyBpZF9jYW1lcmEpCiAgICAgICAgICAgICAgICB0aGlzLnBvcnQgPSBkYXRhWzBdWydwb3J0J10KICAgICAgICAgICAgICAgIHRoaXMudmlkZW9TdHJlYW0oKQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKE9iamVjdC5rZXlzKGVycm9yKSwgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBhc3luYyB0cmFmZmljX3RvZGF5KCl7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDEvdHJlbmQvdG9kYXkvYXlhbmkyLnN0cmVhbScpCiAgICAgICAgICAgIHRoaXMuc2VyaWVzID0gZGF0YS5kYXRhc2V0cwogICAgICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucyA9IHsKICAgICAgICAgICAgICB4YXhpcyA6IHsKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgOiBkYXRhLmNhdGVnb3JpZXMKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB2aWRlb1N0cmVhbSgpewogICAgICAgICAgICB0aGlzLnZpZGVvRGVmYXVsdCA9ICJodHRwOi8vbG9jYWxob3N0OiIgKyB0aGlzLnBvcnQgKyAiL3N0cmVhbS5tanBnIgogICAgICAgIH0sCgogICAgICAgIGltYWdlTG9hZEVycm9yKCl7CiAgICAgICAgICAgIHRoaXMudmlkZW9EZWZhdWx0ID0gcmVxdWlyZSgnQC9hc3NldHMvb2ZmbGluZS5qcGcnKQogICAgICAgIH0sCiAgICB9LAogIH0K"},{"version":3,"sources":["LiveDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"LiveDetail.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <v-row>\n      <v-col cols=\"12\" sm=\"6\" md=\"3\">\n        <v-menu\n          v-model=\"menu1\"\n          :close-on-content-click=\"false\"\n          :nudge-right=\"40\"\n          transition=\"scale-transition\"\n          offset-y\n          full-width\n          min-width=\"290px\"\n        >\n          <template v-slot:activator=\"{ on }\">\n            <v-text-field\n              ref=\"start_date\"\n              v-model=\"start_date\"\n              label=\"Start Date\"\n              prepend-icon=\"event\"\n              readonly\n              v-on=\"on\"\n              :value=\"start_date\"\n            ></v-text-field>\n          </template>\n          <v-date-picker v-model=\"start_date\" @input=\"menu1 = false\"></v-date-picker>\n        </v-menu>\n    </v-col>\n\n    <v-col cols=\"12\" sm=\"6\" md=\"3\">\n      <v-menu\n          v-model=\"menu2\"\n          :close-on-content-click=\"false\"\n          :nudge-right=\"40\"\n          transition=\"scale-transition\"\n          offset-y\n          full-width\n          min-width=\"290px\"\n      >\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field\n            ref=\"end_date\"\n            v-model=\"end_date\"\n            label=\"End Date\"\n            prepend-icon=\"event\"\n            readonly\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker v-model=\"end_date\" @input=\"menu2 = false\"></v-date-picker>\n      </v-menu>\n    </v-col>\n\n      <v-col\n        :cols=\"12\"\n        md=\"8\"\n      >\n        <v-card\n          class=\"pa-2\"\n          tile\n          outlined\n        >\n        <div class=\"pa-2\">\n            <v-img\n                :src=\"videoDefault\"\n                @error=\"imageLoadError\"\n            />\n        </div> \n        <v-card-actions>\n            <v-chip\n              class=\"ma-2\"\n              color=\"blue\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-car</v-icon>\n              </v-avatar>\n              Mobil : {{ liveCount[0]['mobil'][0] + ' | ' + liveCount[0]['mobil'][1]}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"green\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-motorbike</v-icon>\n              </v-avatar>\n              Motor : {{ liveCount[0]['motor'][0] + ' | ' + liveCount[0]['motor'][1]}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"yellow\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-truck</v-icon>\n              </v-avatar>\n              Truck : {{ liveCount[0]['truck'][0] + ' | ' + liveCount[0]['truck'][1]}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"red\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-bus</v-icon>\n              </v-avatar>\n              Bus : {{ liveCount[0]['bus'][0] + ' | ' + liveCount[0]['bus'][1]}}\n            </v-chip>\n\n        </v-card-actions>\n        </v-card>\n      </v-col>\n\n      <v-col\n        :cols=\"12\"\n        md=\"4\"\n      >\n        <v-card\n          class=\"pa-2\"\n          tile\n          outlined\n        >\n          <v-list-item-content>\n            <div class=\"overline\">Percentage Today</div>\n          </v-list-item-content>\n          <apexchart type=pie :options=\"chartOptionsPie\" :series=\"seriesPie\" />\n        </v-card>\n      </v-col>\n      <v-col\n        cols=\"12\"\n      >\n        <v-card\n          class=\"pa-2\"\n          outlined\n          tile\n        >\n          <apexchart type=line height=\"400\" :options=\"chartOptions\" :series=\"series\" />\n        </v-card>\n      </v-col>\n    </v-row>\n</template>\n\n<script>\nimport VueApexCharts from 'vue-apexcharts'\n  export default {\n    components: { apexchart: VueApexCharts },\n    props: {\n      source: String,\n    },\n    data: () => ({\n        id_camera : '',\n        port: '',\n        cameras:[],\n        videoDefault: \"@/assets/loading.gif\",\n        start_date: moment().tz('Asia/Jakarta').startOf('day').format('YYYY-MM-DD'),\n        end_date: moment().tz('Asia/Jakarta').endOf('day').format('YYYY-MM-DD'),\n\n        seriesPie: [44, 55, 13, 43],\n        chartOptionsPie: {\n          labels: ['Mobil', 'Motor', 'Truck', 'Bus'],\n          responsive: [{\n            breakpoint: 480,\n            options: {\n              chart: {\n                width: 300\n              },\n              legend: {\n                position: 'bottom'\n              }\n            }\n          }]\n        },\n\n        series: [],\n        chartOptions: {\n          chart: {\n            shadow: {\n              enabled: true,\n              color: '#000',\n              top: 18,\n              left: 7,\n              blur: 10,\n              opacity: 1\n            },\n            toolbar: {\n              show: true\n            }\n          },\n\n          colors: ['rgb(0,134,251)', 'rgb(0,227,150)', 'rgb(254,176,25)', 'rgb(255,69,96)'],\n          dataLabels: {\n            enabled: true,\n          },\n          stroke: {\n            curve: 'smooth'\n          },\n          title: {\n            text: 'Live traffic today',\n            align: 'left'\n          },\n          grid: {\n            borderColor: '#e7e7e7',\n            row: {\n              colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n              opacity: 0.5\n            },\n          },\n          markers: {\n            size: 6\n          },\n          xaxis: {\n            categories: [],\n            title: {\n              text: 'Time'\n            }\n          },\n          yaxis: {\n            title: {\n              text: 'Count'\n            },\n          },\n          legend: {\n            position: 'top',\n            horizontalAlign: 'right',\n            floating: true,\n            offsetY: -25,\n            offsetX: -5\n          }\n        },\n\n        liveCount:[{\n          'mobil' : [0,0],\n          'motor' : [0,0],\n          'truck' : [0,0],\n          'bus' : [0,0],\n        }],\n    }),\n\n    created () {\n      const id_camera = this.$route.params.id\n      this.getData(id_camera)\n      this.traffic_today()\n    },\n\n    methods: {\n        async getData(id_camera){\n            try {\n                const { data } = await this.$http.get('http://127.0.0.1:8001/camera/' + id_camera)\n                this.port = data[0]['port']\n                this.videoStream()\n            } catch (error) {\n                window.console.log(Object.keys(error), error.message);\n            }\n        },\n\n        async traffic_today(){\n          try {\n            const { data } = await this.$http.get('http://127.0.0.1:8001/trend/today/ayani2.stream')\n            this.series = data.datasets\n            this.chartOptions = {\n              xaxis : {\n                categories : data.categories\n              }\n            }\n          } catch (error) {\n            window.console.log(error)\n          }\n        },\n\n        videoStream(){\n            this.videoDefault = \"http://localhost:\" + this.port + \"/stream.mjpg\"\n        },\n\n        imageLoadError(){\n            this.videoDefault = require('@/assets/offline.jpg')\n        },\n    },\n  }\n</script>\n"]}]}