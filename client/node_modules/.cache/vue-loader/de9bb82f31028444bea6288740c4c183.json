{"remainingRequest":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haris/Development/counting/client/src/pages/LiveDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haris/Development/counting/client/src/pages/LiveDetail.vue","mtime":1576652500686},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVBcGV4Q2hhcnRzIGZyb20gJ3Z1ZS1hcGV4Y2hhcnRzJwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKaW1wb3J0IFZ1ZUxvYWRJbWFnZSBmcm9tICd2dWUtbG9hZC1pbWFnZScKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogeyBhcGV4Y2hhcnQ6IFZ1ZUFwZXhDaGFydHMsICd2dWUtbG9hZC1pbWFnZSc6IFZ1ZUxvYWRJbWFnZSB9LAogICAgcHJvcHM6IHsKICAgICAgc291cmNlOiBTdHJpbmcsCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgICAgdGV4dDogJycsCiAgICAgICAgdGltZW91dDogMzAwMCwKICAgICAgICBjb2xvcl9zbmFja2JhcjogJycsCgogICAgICAgIGFsZXJ0IDogZmFsc2UsCiAgICAgICAgZXJyb3JfdGV4dDogJycsCgogICAgICAgIGlkX2NhbWVyYSA6ICcnLAogICAgICAgIGlkX2xhbmUgOiAnYWxsJywKICAgICAgICBwb3J0OiAnJywKICAgICAgICBjYW1lcmFzOltdLAogICAgICAgIGNhbWVyYV9saXN0OltdLAogICAgICAgIHZpZGVvRGVmYXVsdDogIkAvYXNzZXRzL2xvYWRpbmcuZ2lmIiwKICAgICAgICBzdGFydF9kYXRlOiBtb21lbnQoKS50eignQXNpYS9KYWthcnRhJykuc3RhcnRPZignZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgZW5kX2RhdGU6IG1vbWVudCgpLnR6KCdBc2lhL0pha2FydGEnKS5lbmRPZignZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgY2hhcnRIaWRlIDogZmFsc2UsCiAgICAgICAgbm9fcmVzdWx0OiAnQC9hc3NldHMvb2ZmbGluZS5qcGcnLAogICAgICAgIGludGVydmFsX3NlbGVjdDogewogICAgICAgICAgJ2ludGVydmFsX2lkJyA6ICIxaCIsCiAgICAgICAgfSwKICAgICAgICBpbnRlcnZhbDogWwogICAgICAgICAgewogICAgICAgICAgICAnaW50ZXJ2YWxfaWQnIDogIjFoIiwKICAgICAgICAgICAgJ2ludGVydmFsX25hbWUnIDogIjEgSG91cnMiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgJ2ludGVydmFsX2lkJyA6ICIzaCIsCiAgICAgICAgICAgICdpbnRlcnZhbF9uYW1lJyA6ICIzIEhvdXJzIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICdpbnRlcnZhbF9pZCcgOiAiMWQiLAogICAgICAgICAgICAnaW50ZXJ2YWxfbmFtZScgOiAiMSBEYXkiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgJ2ludGVydmFsX2lkJyA6ICIxdyIsCiAgICAgICAgICAgICdpbnRlcnZhbF9uYW1lJyA6ICIxIFdlZWsiLAogICAgICAgICAgfSwKICAgICAgICBdLAoKICAgICAgICByZWFsdGltZTogdHJ1ZSwKICAgICAgICBzZXJpZXNQaWU6IFtdLAogICAgICAgIGNoYXJ0T3B0aW9uc1BpZTogewogICAgICAgICAgbGFiZWxzOiBbXSwKICAgICAgICAgIGNoYXJ0OiB7CiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScKICAgICAgICAgIH0sCiAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJwogICAgICAgICAgfSwKICAgICAgICAgIHJlc3BvbnNpdmU6IFt7CiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCwKICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgIGNoYXJ0OiB7CiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9LAoKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgJ25hbWUnIDogJ21vYmlsJywKICAgICAgICAgICAgJ2RhdGEnIDogWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgJ25hbWUnIDogJ21vdG9yJywKICAgICAgICAgICAgJ2RhdGEnIDogWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgJ25hbWUnIDogJ3RydWNrJywKICAgICAgICAgICAgJ2RhdGEnIDogWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgJ25hbWUnIDogJ2J1cycsCiAgICAgICAgICAgICdkYXRhJyA6IFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0KICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIGNoYXJ0T3B0aW9uczogewogICAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgICAgc2hhZG93OiB7CiAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICBjb2xvcjogJyMwMDAnLAogICAgICAgICAgICAgIHRvcDogMTgsCiAgICAgICAgICAgICAgbGVmdDogNywKICAgICAgICAgICAgICBibHVyOiAxMCwKICAgICAgICAgICAgICBvcGFjaXR5OiAxCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvb2xiYXI6IHsKICAgICAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCgogICAgICAgICAgY29sb3JzOiBbJ3JnYigwLDEzNCwyNTEpJywgJ3JnYigwLDIyNywxNTApJywgJ3JnYigyNTQsMTc2LDI1KScsICdyZ2IoMjU1LDY5LDk2KSddLAogICAgICAgICAgZGF0YUxhYmVsczogewogICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICAgIHN0cm9rZTogewogICAgICAgICAgICBjdXJ2ZTogJ3Ntb290aCcKICAgICAgICAgIH0sCiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0ZXh0OiAnTGl2ZSB0cmFmZmljJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JwogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjZTdlN2U3JywKICAgICAgICAgICAgcm93OiB7CiAgICAgICAgICAgICAgY29sb3JzOiBbJyNmM2YzZjMnLCAndHJhbnNwYXJlbnQnXSwgLy8gdGFrZXMgYW4gYXJyYXkgd2hpY2ggd2lsbCBiZSByZXBlYXRlZCBvbiBjb2x1bW5zCiAgICAgICAgICAgICAgb3BhY2l0eTogMC41CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgbWFya2VyczogewogICAgICAgICAgICBzaXplOiA2CiAgICAgICAgICB9LAogICAgICAgICAgeGF4aXM6IHsKICAgICAgICAgICAgY2F0ZWdvcmllczogWycwMDowMCcsJzAxOjAwJywnMDI6MDAnLCcwMzowMCcsJzA0OjAwJywnMDU6MDAnLCcwNjowMCcsJzA3OjAwJywnMDg6MDAnLCcwOTowMCcsJzEwOjAwJywnMTE6MDAnLCcxMjowMCcsJzEzOjAwJywnMTQ6MDAnLCcxNTowMCcsJzE2OjAwJywnMTc6MDAnLCcxODowMCcsJzE5OjAwJywnMjA6MDAnLCcyMTowMCcsJzIyOjAwJywnMjM6MDAnXSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICB0ZXh0OiAnVGltZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxzOiB7CiAgICAgICAgICAgICAgcm90YXRlOiAtNDUKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB5YXhpczogewogICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgIHRleHQ6ICdDb3VudCcKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLAogICAgICAgICAgICBob3Jpem9udGFsQWxpZ246ICdyaWdodCcsCiAgICAgICAgICAgIGZsb2F0aW5nOiB0cnVlLAogICAgICAgICAgICBvZmZzZXRZOiAtMjUsCiAgICAgICAgICAgIG9mZnNldFg6IC01CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgbW9iaWxfaW4gOiAwLAogICAgICAgIG1vYmlsX291dCA6IDAsCgogICAgICAgIG1vdG9yX3VwIDogMCwKICAgICAgICBtb3Rvcl9kb3duIDogMCwKCiAgICAgICAgdHJ1Y2tfdXAgOiAwLAogICAgICAgIHRydWNrX2Rvd24gOiAwLAogICAgICAgIAogICAgICAgIGJ1c191cCA6IDAsCiAgICAgICAgYnVzX2Rvd24gOiAwLAoKICAgICAgICB0aW1lcjogJycsCiAgICAgICAgdGltZXJfbGl2ZTogJycsCiAgICAgICAgc3RyZWFtU3RhdHVzOiBmYWxzZSwKICAgICAgICBob3VycyA6IFsnMDA6MDAnLCcwMTowMCcsJzAyOjAwJywnMDM6MDAnLCcwNDowMCcsJzA1OjAwJywnMDY6MDAnLCcwNzowMCcsJzA4OjAwJywnMDk6MDAnLCcxMDowMCcsJzExOjAwJywnMTI6MDAnLCcxMzowMCcsJzE0OjAwJywnMTU6MDAnLCcxNjowMCcsJzE3OjAwJywnMTg6MDAnLCcxOTowMCcsJzIwOjAwJywnMjE6MDAnLCcyMjowMCcsJzIzOjAwJ10KICAgIH0pLAoKICAgIGNyZWF0ZWQgKCkgewogICAgICB0aGlzLiRQcm9ncmVzcy5zdGFydCgpCiAgICAgIHRoaXMuaWRfY2FtZXJhID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpICAgICAgCiAgICB9LAogICAgbW91bnRlZCgpewogICAgICB0aGlzLiRQcm9ncmVzcy5maW5pc2goKQogICAgfSwKCiAgICB3YXRjaDogewogICAgICAgIGlkX2NhbWVyYTpmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdqb2luJywgdGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgICB0aGlzLnRyYWZmaWMoKQogICAgICAgICAgdGhpcy5waWUoKQogICAgICAgICAgdGhpcy5nZXRMaXZlQ291bnQoKQogICAgICAgIH0sCgogICAgICAgIGlkX2xhbmU6ZnVuY3Rpb24oKXsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLmlkX2xhbmUpCiAgICAgICAgICB0aGlzLnBpZSgpCiAgICAgICAgICB0aGlzLnRyYWZmaWMoKQogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgcmVhbHRpbWU6ZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAodGhpcy5yZWFsdGltZSkgewogICAgICAgICAgICB0aGlzLnN0YXJ0SW50ZXJ2YWxHcmFwaCgpCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGluaXRpYWxpemUgKCkgewogICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAxL2NhbWVyYScpCiAgICAgICAgICB0aGlzLmNhbWVyYV9saXN0ID0gZGF0YQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGdldERhdGEoaWRfY2FtZXJhKXsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAxL2NhbWVyYS8nICsgaWRfY2FtZXJhKQogICAgICAgICAgICAgIHRoaXMuY2FtZXJhcyA9IGRhdGEKICAgICAgICAgICAgICB0aGlzLnBvcnQgPSBkYXRhWydwb3J0J10KICAgICAgICAgICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbih0aGlzLnBvcnQpCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coT2JqZWN0LmtleXMoZXJyb3IpLCBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIHRyYWZmaWMoKXsKICAgICAgICAgIHZhciBob3VycyA9IFsnMDA6MDAnLCcwMTowMCcsJzAyOjAwJywnMDM6MDAnLCcwNDowMCcsJzA1OjAwJywnMDY6MDAnLCcwNzowMCcsJzA4OjAwJywnMDk6MDAnLCcxMDowMCcsJzExOjAwJywnMTI6MDAnLCcxMzowMCcsJzE0OjAwJywnMTU6MDAnLCcxNjowMCcsJzE3OjAwJywnMTg6MDAnLCcxOTowMCcsJzIwOjAwJywnMjE6MDAnLCcyMjowMCcsJzIzOjAwJ10KICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMS90cmVuZC8nKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgKyc/c3RhcnRfZGF0ZT0mZW5kX2RhdGU9JmludGVydmFsPScgKyB0aGlzLmludGVydmFsX3NlbGVjdC5pbnRlcnZhbF9pZCArICcmbGFuZT0nICsgdGhpcy5pZF9sYW5lKQogICAgICAgICAgICAvLyBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDEvdHJlbmQvJysgdGhpcy4kcm91dGUucGFyYW1zLmlkICsnP3N0YXJ0X2RhdGU9MjAxOS0xMi0xMyZlbmRfZGF0ZT0yMDE5LTEyLTEzJmludGVydmFsPScgKyB0aGlzLmludGVydmFsX3NlbGVjdC5pbnRlcnZhbF9pZCArICcmbGFuZT0nICsgdGhpcy5pZF9sYW5lKQogICAgICAgICAgICBkYXRhLmRhdGFzZXRzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gewogICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlLmRhdGEpLmZvckVhY2goKGhvdXIpID0+IHsKICAgICAgICAgICAgICAgIHZhciBpbmRleF9ob3VyID0gaG91cnMuaW5kZXhPZihob3VyKTsKICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzW2luZGV4XVsnZGF0YSddW2luZGV4X2hvdXJdID0gdmFsdWUuZGF0YVtob3VyXQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5jaGFydE9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgeGF4aXMgOiB7CiAgICAgICAgICAgICAgICBsYWJlbHM6IHsKICAgICAgICAgICAgICAgICAgcm90YXRlOiAtNDUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWxlcnQgPSBmYWxzZQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5lcnJvcl90ZXh0ID0gIkNhbid0IGNvbm5lY3QgZGF0YWJhc2UgISIKICAgICAgICAgICAgdGhpcy5hbGVydCA9IHRydWUKICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBhc3luYyBwaWUoKXsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMS9waWUvJysgdGhpcy4kcm91dGUucGFyYW1zLmlkICsnP3N0YXJ0X2RhdGU9JmVuZF9kYXRlPSZsYW5lPScgKyB0aGlzLmlkX2xhbmUpCiAgICAgICAgICAgIC8vIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMS9waWUvJysgdGhpcy4kcm91dGUucGFyYW1zLmlkICsnP3N0YXJ0X2RhdGU9MjAxOS0xMi0xMyZlbmRfZGF0ZT0yMDE5LTEyLTEzJmxhbmU9JyArIHRoaXMuaWRfbGFuZSkKICAgICAgICAgICAgdGhpcy5zZXJpZXNQaWUgPSBkYXRhLmRhdGFzZXRzCiAgICAgICAgICAgIHRoaXMuY2hhcnRPcHRpb25zUGllID0gewogICAgICAgICAgICAgIGxhYmVscyA6IGRhdGEuY2F0ZWdvcmllcywKICAgICAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW3sKICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDk1MCwKICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzM1MCcKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFzZXRzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5jaGFydEhpZGUgPSB0cnVlCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMuY2hhcnRIaWRlID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGdldExpdmVDb3VudCgpewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAxL3JlYWx0aW1lL2NvdW50LycgKyB0aGlzLmlkX2NhbWVyYSkKICAgICAgICAgICAgdGhpcy5tb2JpbF9pbiA9IGRhdGEubW9iaWxbMF0KICAgICAgICAgICAgdGhpcy5tb2JpbF9vdXQgPSBkYXRhLm1vYmlsWzFdCiAgICAgICAgICAgIHRoaXMubW90b3JfdXAgPSBkYXRhLm1vdG9yWzBdCiAgICAgICAgICAgIHRoaXMubW90b3JfZG93biA9IGRhdGEubW90b3JbMV0KICAgICAgICAgICAgdGhpcy50cnVja191cCA9IGRhdGEudHJ1Y2tbMF0KICAgICAgICAgICAgdGhpcy50cnVja19kb3duID0gZGF0YS50cnVja1sxXQogICAgICAgICAgICB0aGlzLmJ1c191cCA9IGRhdGEuYnVzWzBdCiAgICAgICAgICAgIHRoaXMuYnVzX2Rvd24gPSBkYXRhLmJ1c1sxXQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy50ZXh0ID0gIkxpdmUgY291bnQgZXJyb3IgKCAiICArIGVycm9yICsgIiApIgogICAgICAgICAgICB0aGlzLmNvbG9yX3NuYWNrYmFyID0gInJlZCBkYXJrZW4tMSIKICAgICAgICAgICAgdGhpcy5hbGVydCA9IHRydWUKICAgICAgICAgICAgdGhpcy5jaGFydEhpZGUgPSB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY2hhbmdlUm91dGUoZSl7CiAgICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnbGVhdmUnLCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvbGl2ZS8nICsgZSB9KQogICAgICAgICAgdGhpcy5pZF9jYW1lcmEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9LAoKICAgICAgICBkYXRlRmlsdGVyKCl7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5pZF9sYW5lKQogICAgICAgICAgdGhpcy50cmFmZmljKCkKICAgICAgICAgIHRoaXMucGllKCkKICAgICAgICB9LAoKICAgICAgICBzdGFydEludGVydmFsR3JhcGg6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudHJhZmZpYygpCiAgICAgICAgICAgIHRoaXMucGllKCkKICAgICAgICAgIH0sIDMwMDApOwogICAgICAgIH0sCgogICAgICAgIGNoZWNrQ29ubmVjdGlvbihwb3J0KXsKICAgICAgICAgIGNvbnN0IF9zZWxmID0gdGhpcwogICAgICAgICAgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6JyArIHBvcnQpLnRoZW4oZnVuY3Rpb24oKXsKICAgICAgICAgICAgX3NlbGYudmlkZW9TdHJlYW0oKQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIF9zZWxmLnN0cmVhbVN0YXR1cyA9IGZhbHNlCiAgICAgICAgICAgICAgICBfc2VsZi5pbWFnZUxvYWRFcnJvcigpCiAgICAgICAgICAgICAgICBfc2VsZi50ZXh0ID0gIkNhbid0IGNvbm5lY3QgdmlkZW8gc3RyZWFtICEiCiAgICAgICAgICAgICAgICBfc2VsZi5jb2xvcl9zbmFja2JhciA9ICJyZWQgZGFya2VuLTEiCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBlcnJvci5yZXNwb25zZS5zdGF0dXMKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgX3NlbGYudGV4dCA9ICJDYW4ndCBjb25uZWN0IHZpZGVvIHN0cmVhbSAhICgiICsgY29kZSArICIpIHJlc3BvbnNlOiAiICsgIHJlc3BvbnNlCiAgICAgICAgICAgICAgICBfc2VsZi5jb2xvcl9zbmFja2JhciA9ICJ5ZWxsb3cgZGFya2VuLTEiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9zZWxmLnNuYWNrYmFyID0gdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgdmlkZW9TdHJlYW0oKXsKICAgICAgICAgICAgbGV0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpCiAgICAgICAgICAgIHRoaXMudmlkZW9EZWZhdWx0ID0gImh0dHA6Ly8xMjcuMC4wLjE6IiArIHRoaXMucG9ydCArICIvIiArIHJhbmRvbSArICIvc3RyZWFtLm1qcGciCiAgICAgICAgfSwKCiAgICAgICAgaW1hZ2VMb2FkRXJyb3IoKXsKICAgICAgICAgICAgdGhpcy52aWRlb0RlZmF1bHQgPSByZXF1aXJlKCdAL2Fzc2V0cy9vZmZsaW5lLmpwZycpCiAgICAgICAgfSwKCiAgICAgICAgYWRkQ291bnQoZGF0YSl7CiAgICAgICAgICBjb25zdCBub3cgPSBtb21lbnQoKS50eignQXNpYS9KYWthcnRhJykuZm9ybWF0KCdISDowMCcpCiAgICAgICAgICBsZXQgaW5kZXhfaG91ciA9IHRoaXMuaG91cnMuaW5kZXhPZihub3cpOwogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGluZGV4X2hvdXIpCiAgICAgICAgICBzd2l0Y2ggKGRhdGEuY2F0ZWdvcmllcykgewogICAgICAgICAgICBjYXNlICdtb2JpbCc6CiAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZSA9PSAnSW4nKSB7CiAgICAgICAgICAgICAgICB0aGlzLm1vYmlsX2luICs9IDEKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMubW9iaWxfb3V0ICs9IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZXJpZXNbMF1bJ2RhdGEnXVtpbmRleF9ob3VyXSA9IHRoaXMuc2VyaWVzWzBdWydkYXRhJ11baW5kZXhfaG91cl0rMQogICAgICAgICAgICAgIHRoaXMucmVsb2FkQ2hhcnRUcmVuZCgpCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ21vdG9yJzoKICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5lID09ICdJbicpIHsKICAgICAgICAgICAgICAgIHRoaXMubW90b3JfdXAgKz0gMQogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5tb3Rvcl9kb3duICs9IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZXJpZXNbMV1bJ2RhdGEnXVtpbmRleF9ob3VyXSA9IHRoaXMuc2VyaWVzWzFdWydkYXRhJ11baW5kZXhfaG91cl0rMQogICAgICAgICAgICAgIHRoaXMucmVsb2FkQ2hhcnRUcmVuZCgpCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3RydWNrJzoKICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5lID09ICdJbicpIHsKICAgICAgICAgICAgICAgIHRoaXMudHJ1Y2tfdXAgKz0gMQogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy50cnVja19kb3duICs9IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZXJpZXNbMl1bJ2RhdGEnXVtpbmRleF9ob3VyXSA9IHRoaXMuc2VyaWVzWzJdWydkYXRhJ11baW5kZXhfaG91cl0rMQogICAgICAgICAgICAgIHRoaXMucmVsb2FkQ2hhcnRUcmVuZCgpCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2J1cyc6CiAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZSA9PSAnSW4nKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJ1c191cCArPSAxCiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLmJ1c19kb3duICs9IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZXJpZXNbMl1bJ2RhdGEnXVtpbmRleF9ob3VyXSA9IHRoaXMuc2VyaWVzWzJdWydkYXRhJ11baW5kZXhfaG91cl0rMQogICAgICAgICAgICAgIHRoaXMucmVsb2FkQ2hhcnRUcmVuZCgpCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgcmVsb2FkQ2hhcnRUcmVuZCAoKXsKICAgICAgICAgIHRoaXMuY2hhcnRPcHRpb25zID0gewogICAgICAgICAgICAgIHhheGlzIDogewogICAgICAgICAgICAgICAgbGFiZWxzOiB7CiAgICAgICAgICAgICAgICAgIHJvdGF0ZTogLTQ1CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgc29ja2V0czogewogICAgICBjb25uZWN0OiBmdW5jdGlvbiAoKXsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnc29ja2V0IGNvbm5lY3RlZCcpCiAgICAgIH0sCiAgICAgIGNvdW50aW5nX2xpdmU6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICB0aGlzLmFkZENvdW50KGRhdGEpCiAgICAgIH0KICAgIH0sCgogICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ2xlYXZlJywgdGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgICAgICB0aGlzLnZpZGVvRGVmYXVsdCA9IHJlcXVpcmUoJ0AvYXNzZXRzL29mZmxpbmUuanBnJykKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpCiAgICB9LAoKICB9Cg=="},{"version":3,"sources":["LiveDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"LiveDetail.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <v-row>\n      <v-col\n        :cols=\"12\"\n        md=\"8\"\n      >\n      <v-alert \n        v-model=\"alert\" \n        type=\"error\"\n        dense\n      >\n        {{ error_text }}\n      </v-alert>\n        <v-card\n          class=\"pa-2\"\n          tile\n          outlined\n        >\n        <!-- <div class=\"pa-2\">\n          <div v-if=\"streamStatus\">\n            <v-img :src=\"videoDefault\"/>\n          </div>\n          <div v-else>\n            <v-img src=\"@/assets/offline.jpg\"/>\n          </div>\n        </div>  -->\n        <vue-load-image>\n          <img slot=\"image\" :src=\"videoDefault\" style=\"width: 100%\"/>\n          <v-img slot=\"preloader\" src=\"@/assets/preloader.gif\"/>\n          <v-img slot=\"error\" src=\"@/assets/offline.jpg\" aspect-ratio=\"1.7\"/>\n        </vue-load-image>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n            <v-chip\n              class=\"ma-2\"\n              color=\"blue\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-car</v-icon>\n              </v-avatar>\n              Mobil : {{ mobil_in + ' | ' + mobil_out}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"green\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-motorbike</v-icon>\n              </v-avatar>\n              Motor : {{ motor_up + ' | ' + motor_down}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"orange\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-truck</v-icon>\n              </v-avatar>\n              Truck : {{ truck_up + ' | ' + truck_down}}\n            </v-chip>\n\n            <v-chip\n              class=\"ma-2\"\n              color=\"red\"\n              outlined\n            >\n              <v-avatar left>\n                <v-icon>mdi-bus</v-icon>\n              </v-avatar>\n              Bus : {{ bus_up + ' | ' + bus_down }}\n            </v-chip>\n            <v-spacer></v-spacer>\n            <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                    <v-btn color=\"green\" v-on=\"on\" fab small dark @click=\"checkConnection(port)\">\n                      <v-icon>mdi-refresh</v-icon>\n                    </v-btn>\n                </template>\n                <span>Refresh Video</span>\n            </v-tooltip>\n        </v-card-actions>\n        </v-card>\n      </v-col>\n\n      <v-col\n        :cols=\"12\"\n        md=\"4\"\n      >\n         <v-card\n          class=\"pa-2\"\n          height=\"495\"\n          tile\n          outlined\n        >\n        <v-select\n            v-model=\"cameras\"\n            :items=\"camera_list\"\n            item-value=\"id\"\n            item-text=\"name\"\n            @change=\"changeRoute\"\n            filled\n            dense\n            label=\"Camera Active\"\n          ></v-select>\n          <div v-if=\"chartHide\">\n            <v-img src=\"@/assets/no_result.gif\"></v-img>\n          </div>\n          <div v-else>\n            <v-list-item-content>\n              <div class=\"overline\">Percentage</div>\n            </v-list-item-content>\n            <v-layout justify-center>\n              <apexchart type=pie width=\"350\" :options=\"chartOptionsPie\" :series=\"seriesPie\" />\n            </v-layout>\n            <div class=\"text-center mt-4\">\n              <v-btn-toggle\n                v-model=\"id_lane\"\n                rounded\n                dense\n              >\n                <v-btn value=\"In\" @click=\"id_lane = 'In'\">\n                  <v-icon>mdi-arrow-up-circle</v-icon>\n                </v-btn>\n                <v-btn value=\"all\" @click=\"id_lane = 'all'\">\n                  <v-icon>mdi-swap-vertical-bold</v-icon>\n                </v-btn>\n                <v-btn value=\"Out\" @click=\"id_lane = 'Out'\">\n                  <v-icon>mdi-arrow-down-circle</v-icon>\n                </v-btn>\n              </v-btn-toggle>\n            </div>\n          </div>\n        </v-card>\n      </v-col>\n      \n      <v-col\n        cols=\"12\"\n      >\n        <v-card\n          class=\"pa-2 justify-center\"\n          outlined\n          tile\n        >\n          <div v-if=\"chartHide\">\n            <v-layout justify-center>\n                <v-img src=\"@/assets/no_result.gif\" max-width=\"500\"></v-img>\n            </v-layout>\n          </div>\n          <div v-else>\n            <v-list-item-content>\n              <div class=\"overline\">Traffic Today</div>\n            </v-list-item-content>\n            <apexchart type=line height=\"400\" :options=\"chartOptions\" :series=\"series\" />\n          </div>\n        </v-card>\n      </v-col>\n     \n      <v-snackbar\n        v-model=\"snackbar\"\n        :timeout=\"timeout\"\n        :color=\"color_snackbar\"\n      >\n        {{ text }}\n        <v-btn\n          color=\"white\"\n          text\n          @click=\"snackbar = false\"\n        >\n          Close\n        </v-btn>\n      </v-snackbar>\n    </v-row>\n</template>\n\n<script>\nimport VueApexCharts from 'vue-apexcharts'\nimport moment from 'moment'\nimport VueLoadImage from 'vue-load-image'\n\n  export default {\n    components: { apexchart: VueApexCharts, 'vue-load-image': VueLoadImage },\n    props: {\n      source: String,\n    },\n    data: () => ({\n        snackbar: false,\n        text: '',\n        timeout: 3000,\n        color_snackbar: '',\n\n        alert : false,\n        error_text: '',\n\n        id_camera : '',\n        id_lane : 'all',\n        port: '',\n        cameras:[],\n        camera_list:[],\n        videoDefault: \"@/assets/loading.gif\",\n        start_date: moment().tz('Asia/Jakarta').startOf('day').format('YYYY-MM-DD'),\n        end_date: moment().tz('Asia/Jakarta').endOf('day').format('YYYY-MM-DD'),\n        chartHide : false,\n        no_result: '@/assets/offline.jpg',\n        interval_select: {\n          'interval_id' : \"1h\",\n        },\n        interval: [\n          {\n            'interval_id' : \"1h\",\n            'interval_name' : \"1 Hours\",\n          },\n          {\n            'interval_id' : \"3h\",\n            'interval_name' : \"3 Hours\",\n          },\n          {\n            'interval_id' : \"1d\",\n            'interval_name' : \"1 Day\",\n          },\n          {\n            'interval_id' : \"1w\",\n            'interval_name' : \"1 Week\",\n          },\n        ],\n\n        realtime: true,\n        seriesPie: [],\n        chartOptionsPie: {\n          labels: [],\n          chart: {\n            width: '100%'\n          },\n          legend: {\n                position: 'bottom'\n          },\n          responsive: [{\n            breakpoint: 480,\n            options: {\n              chart: {\n                width: '100%'\n              },\n              legend: {\n                position: 'bottom'\n              }\n            }\n          }]\n        },\n\n        series: [\n          {\n            'name' : 'mobil',\n            'data' : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n          },\n          {\n            'name' : 'motor',\n            'data' : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n          },\n          {\n            'name' : 'truck',\n            'data' : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n          },\n          {\n            'name' : 'bus',\n            'data' : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\n          }\n        ],\n        chartOptions: {\n          chart: {\n            shadow: {\n              enabled: true,\n              color: '#000',\n              top: 18,\n              left: 7,\n              blur: 10,\n              opacity: 1\n            },\n            toolbar: {\n              show: true\n            }\n          },\n\n          colors: ['rgb(0,134,251)', 'rgb(0,227,150)', 'rgb(254,176,25)', 'rgb(255,69,96)'],\n          dataLabels: {\n            enabled: true,\n          },\n          stroke: {\n            curve: 'smooth'\n          },\n          title: {\n            text: 'Live traffic',\n            align: 'left'\n          },\n          grid: {\n            borderColor: '#e7e7e7',\n            row: {\n              colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n              opacity: 0.5\n            },\n          },\n          markers: {\n            size: 6\n          },\n          xaxis: {\n            categories: ['00:00','01:00','02:00','03:00','04:00','05:00','06:00','07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00','22:00','23:00'],\n            title: {\n              text: 'Time'\n            },\n            labels: {\n              rotate: -45\n            },\n          },\n          yaxis: {\n            title: {\n              text: 'Count'\n            },\n          },\n          legend: {\n            position: 'top',\n            horizontalAlign: 'right',\n            floating: true,\n            offsetY: -25,\n            offsetX: -5\n          }\n        },\n\n        mobil_in : 0,\n        mobil_out : 0,\n\n        motor_up : 0,\n        motor_down : 0,\n\n        truck_up : 0,\n        truck_down : 0,\n        \n        bus_up : 0,\n        bus_down : 0,\n\n        timer: '',\n        timer_live: '',\n        streamStatus: false,\n        hours : ['00:00','01:00','02:00','03:00','04:00','05:00','06:00','07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00','22:00','23:00']\n    }),\n\n    created () {\n      this.$Progress.start()\n      this.id_camera = this.$route.params.id\n      this.initialize()      \n    },\n    mounted(){\n      this.$Progress.finish()\n    },\n\n    watch: {\n        id_camera:function() {\n          this.$socket.emit('join', this.$route.params.id);\n          this.getData(this.$route.params.id)\n          this.traffic()\n          this.pie()\n          this.getLiveCount()\n        },\n\n        id_lane:function(){\n          window.console.log(this.id_lane)\n          this.pie()\n          this.traffic()\n        },\n        \n        realtime:function() {\n          if (this.realtime) {\n            this.startIntervalGraph()\n          }else{\n            clearInterval(this.timer)\n          }\n        }\n    },\n\n    methods: {\n        async initialize () {\n          const { data } = await this.$http.get('http://127.0.0.1:8001/camera')\n          this.camera_list = data\n        },\n\n        async getData(id_camera){\n          try {\n              const { data } = await this.axios.get('http://127.0.0.1:8001/camera/' + id_camera)\n              this.cameras = data\n              this.port = data['port']\n              this.checkConnection(this.port)\n            } catch (error) {\n                window.console.log(Object.keys(error), error.message);\n            }\n        },\n\n        async traffic(){\n          var hours = ['00:00','01:00','02:00','03:00','04:00','05:00','06:00','07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00','22:00','23:00']\n          try {\n            const { data } = await this.axios.get('http://127.0.0.1:8001/trend/'+ this.$route.params.id +'?start_date=&end_date=&interval=' + this.interval_select.interval_id + '&lane=' + this.id_lane)\n            // const { data } = await this.axios.get('http://127.0.0.1:8001/trend/'+ this.$route.params.id +'?start_date=2019-12-13&end_date=2019-12-13&interval=' + this.interval_select.interval_id + '&lane=' + this.id_lane)\n            data.datasets.forEach((value, index) => {\n              Object.keys(value.data).forEach((hour) => {\n                var index_hour = hours.indexOf(hour);\n                this.series[index]['data'][index_hour] = value.data[hour]\n              });\n            });\n            this.chartOptions = {\n              xaxis : {\n                labels: {\n                  rotate: -45\n                },\n              }\n            }\n            this.alert = false\n          } catch (error) {\n            this.error_text = \"Can't connect database !\"\n            this.alert = true\n          }\n        },\n\n        async pie(){\n          try {\n            const { data } = await this.axios.get('http://127.0.0.1:8001/pie/'+ this.$route.params.id +'?start_date=&end_date=&lane=' + this.id_lane)\n            // const { data } = await this.axios.get('http://127.0.0.1:8001/pie/'+ this.$route.params.id +'?start_date=2019-12-13&end_date=2019-12-13&lane=' + this.id_lane)\n            this.seriesPie = data.datasets\n            this.chartOptionsPie = {\n              labels : data.categories,\n              legend: {\n                position: 'bottom'\n              },\n              responsive: [{\n                breakpoint: 950,\n                options: {\n                  chart: {\n                    width: '350'\n                  },\n                  legend: {\n                    position: 'bottom'\n                  }\n                }\n              }]\n            }\n            if (data.datasets.length == 0) {\n              this.chartHide = true\n            }else{\n              this.chartHide = false\n            }\n          } catch (error) {\n            window.console.log(error)\n          }\n        },\n\n        async getLiveCount(){\n          try {\n            const { data } = await this.axios.get('http://127.0.0.1:8001/realtime/count/' + this.id_camera)\n            this.mobil_in = data.mobil[0]\n            this.mobil_out = data.mobil[1]\n            this.motor_up = data.motor[0]\n            this.motor_down = data.motor[1]\n            this.truck_up = data.truck[0]\n            this.truck_down = data.truck[1]\n            this.bus_up = data.bus[0]\n            this.bus_down = data.bus[1]\n          } catch (error) {\n            this.text = \"Live count error ( \"  + error + \" )\"\n            this.color_snackbar = \"red darken-1\"\n            this.alert = true\n            this.chartHide = true\n          }\n        },\n\n        changeRoute(e){\n          this.$socket.emit('leave', this.$route.params.id);\n          this.$router.push({path: '/live/' + e })\n          this.id_camera = this.$route.params.id\n        },\n\n        dateFilter(){\n          window.console.log(this.id_lane)\n          this.traffic()\n          this.pie()\n        },\n\n        startIntervalGraph: function () {\n          this.timer = setInterval(() => {\n            this.traffic()\n            this.pie()\n          }, 3000);\n        },\n\n        checkConnection(port){\n          const _self = this\n          this.axios.get('http://127.0.0.1:' + port).then(function(){\n            _self.videoStream()\n          }).catch(function(error){\n              if (!error.response) {\n                window.console.log(error)\n                _self.streamStatus = false\n                _self.imageLoadError()\n                _self.text = \"Can't connect video stream !\"\n                _self.color_snackbar = \"red darken-1\"\n              } else {\n                const code = error.response.status\n                const response = error.response.data\n                _self.text = \"Can't connect video stream ! (\" + code + \") response: \" +  response\n                _self.color_snackbar = \"yellow darken-1\"\n              }\n              _self.snackbar = true\n          });\n        },\n\n        videoStream(){\n            let random = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\n            this.videoDefault = \"http://127.0.0.1:\" + this.port + \"/\" + random + \"/stream.mjpg\"\n        },\n\n        imageLoadError(){\n            this.videoDefault = require('@/assets/offline.jpg')\n        },\n\n        addCount(data){\n          const now = moment().tz('Asia/Jakarta').format('HH:00')\n          let index_hour = this.hours.indexOf(now);\n          window.console.log(index_hour)\n          switch (data.categories) {\n            case 'mobil':\n              if (data.lane == 'In') {\n                this.mobil_in += 1\n              }else{\n                this.mobil_out += 1\n              }\n              this.series[0]['data'][index_hour] = this.series[0]['data'][index_hour]+1\n              this.reloadChartTrend()\n              break;\n            case 'motor':\n              if (data.lane == 'In') {\n                this.motor_up += 1\n              }else{\n                this.motor_down += 1\n              }\n              this.series[1]['data'][index_hour] = this.series[1]['data'][index_hour]+1\n              this.reloadChartTrend()\n              break;\n            case 'truck':\n              if (data.lane == 'In') {\n                this.truck_up += 1\n              }else{\n                this.truck_down += 1\n              }\n              this.series[2]['data'][index_hour] = this.series[2]['data'][index_hour]+1\n              this.reloadChartTrend()\n              break;\n            case 'bus':\n              if (data.lane == 'In') {\n                this.bus_up += 1\n              }else{\n                this.bus_down += 1\n              }\n              this.series[2]['data'][index_hour] = this.series[2]['data'][index_hour]+1\n              this.reloadChartTrend()\n              break;\n            default:\n              break;\n          }\n        },\n\n        reloadChartTrend (){\n          this.chartOptions = {\n              xaxis : {\n                labels: {\n                  rotate: -45\n                },\n              }\n            }\n        }\n    },\n\n    sockets: {\n      connect: function (){\n          window.console.log('socket connected')\n      },\n      counting_live: function (data) {\n          this.addCount(data)\n      }\n    },\n\n    beforeDestroy: function() {\n        this.$socket.emit('leave', this.$route.params.id);\n        this.videoDefault = require('@/assets/offline.jpg')\n        clearInterval(this.timer)\n    },\n\n  }\n</script>\n"]}]}