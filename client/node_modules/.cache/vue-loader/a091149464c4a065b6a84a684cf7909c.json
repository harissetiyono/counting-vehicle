{"remainingRequest":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haris/Development/counting/client/src/pages/Camera.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haris/Development/counting/client/src/pages/Camera.vue","mtime":1576552096491},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nOiBmYWxzZSwKICAgIGhlYWRlcnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICdDYW1lcmEnLAogICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAnbmFtZScsCiAgICAgIH0sCiAgICAgIHsgdGV4dDogJ0xva2FzaScsIHZhbHVlOiAnbG9jYXRpb24nIH0sCiAgICAgIHsgdGV4dDogJ1BvcnQnLCB2YWx1ZTogJ3BvcnQnIH0sCiAgICAgIHsgdGV4dDogJ0lwIFN0cmVhbScsIHZhbHVlOiAnaXBfc3RyZWFtJyB9LAogICAgICB7IHRleHQ6ICdTdGF0dXMnLCB2YWx1ZTogJ3N0YXR1cycgfSwKICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9uJywgd2lkdGg6IDE4MCwgc29ydGFibGU6IGZhbHNlIH0sCiAgICBdLAogICAgY2FtZXJhczogW10sCiAgICBlZGl0ZWRJbmRleDogLTEsCiAgICBlZGl0ZWRJdGVtOiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIHBvcnQ6ICcnLAogICAgICBpcF9zdHJlYW06ICcnLAogICAgICBzY2FsZTogMTAwLAogICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJywKICAgICAgc3RhdHVzOiAxLAogICAgfSwKICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIHBvcnQ6ICcnLAogICAgICBpcF9zdHJlYW06ICcnLAogICAgICBzY2FsZTogMTAwLAogICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJywKICAgICAgc3RhdHVzOiAxLAogICAgfSwKICAgIGRpcmVjdGlvbiA6IFsndmVydGljYWwnLCAnaG9yaXpvbnRhbCddLAogICAgc3RhdHVzIDogWwogICAgICB7J2lkJyA6IDEsICduYW1lJyA6ICdBY3RpdmUnfSwKICAgICAgeydpZCcgOiAwLCAnbmFtZScgOiAnRGVhY3RpdmUnfSwKICAgIF0sCiAgfSksCgogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGUgKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAnTmV3IEl0ZW0nIDogJ0VkaXQgSXRlbScKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRpYWxvZyAodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmluaXRpYWxpemUoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGluaXRpYWxpemUgKCkgewogICAgICAgIGxldCBfc2VsZiA9IHRoaXMKICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDEvY2FtZXJhJykKICAgICAgICB0aGlzLmNhbWVyYXMgPSBkYXRhCgogICAgICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4gewogICAgICAgICAgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6JyArIGVsZW1lbnQucG9ydCkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICBfc2VsZi5jYW1lcmFzW2ldLnN0YXR1cyA9IDEKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAvLyBuZXR3b3JrIGVycm9yCiAgICAgICAgICAgICAgICBfc2VsZi5jYW1lcmFzW2ldLnN0YXR1cyA9IDAKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gaHR0cCBzdGF0dXMgY29kZQogICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGVycm9yLnJlc3BvbnNlLnN0YXR1cwogICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgZGF0YQogICAgICAgICAgICAgICAgLy8gY29uc3QgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZS5kYXRhCiAgICAgICAgICAgICAgICBhbGVydCgiRXJyb3I6ICIgKyBjb2RlKQogICAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKCiAgICBydW5DYW1lcmEoaWQsIHBvcnQpewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgZ3JvdXA6ICdmb28nLAogICAgICAgICAgdGl0bGU6ICdSdW5uaW5nIFNjcmlwdCcsCiAgICAgICAgICB0ZXh0OiAnUnVubmluZyBzY3JpcHQgU3VjY2VzcywgcGxlYXNlIHdhaXQgZm9yIGNhbWVyYSBzdHJlYW0nLAogICAgICAgICAgZHVyYXRpb246IDIwMDAwLAogICAgICAgIH0pOwoKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgCiAgICAgICAgICB0aGlzLmF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDonICsgcG9ydCkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICBzZWxmLiRub3RpZnkoewogICAgICAgICAgICAgIGdyb3VwOiAnZm9vJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgdGl0bGU6ICdWaWRlbyByZWFkeScsCiAgICAgICAgICAgICAgdGV4dDogJ0NhbWVyYSB2aWRlbyBzdHJlYW0gcmVhZHkgdG8gdXNlICEnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlbGYuaW5pdGlhbGl6ZSgpCiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgc2VsZi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmb28nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0aXRsZTogJ1ZpZGVvIFN0cmVhbSBGYWlsZWQnLAogICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2Fubm90IENvbm5lY3QgdG8gY2FtZXJhLCBjaGVjayBpbnRlcm5ldCBjb25uZWN0aW9uIG9yIGNhbWVyYSBzZXJ2ZXIgIScsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2VsZi5pbml0aWFsaXplKCkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGVycm9yLnJlc3BvbnNlLnN0YXR1cwogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGNvZGUpCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LCAyMDAwMCkKCiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDEvcnVuJywge2lkIDogaWR9KQogICAgfSwKCiAgICBzdG9wQ2FtZXJhKHBvcnQpewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vMTI3LjAuMC4xOicgKyBwb3J0ICsgJy9zdG9wJywgeyBhY3Rpb24gOiAnc3RvcCcgfSkudGhlbihmdW5jdGlvbigpewogICAgICAgIHNlbGYuJG5vdGlmeSh7CiAgICAgICAgICBncm91cDogJ2ZvbycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICB0aXRsZTogJ1N0cmVhbSBzdWNjZXNzICcsCiAgICAgICAgICB0ZXh0OiAnQ2FtZXJhIHZpZGVvIHN0cmVhbSBzdWNjZXNzIHRvIHN0b3AgIScsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMDAsCiAgICAgICAgfSk7CiAgICAgICAgc2VsZi5pbml0aWFsaXplKCkKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICBzZWxmLiRub3RpZnkoewogICAgICAgICAgICAgIGdyb3VwOiAnZm9vJywKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIHRpdGxlOiAnVmlkZW8gU3RyZWFtIEZhaWxlZCBTdG9wJywKICAgICAgICAgICAgICB0ZXh0OiAnQ2Fubm90IENvbm5lY3QgU3RvcCBDYW1lcmEgc3RyZWFtLCBwbGVhc2UgY2hlY2sgY29ubmVjdGlvbiAhJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZWxmLmluaXRpYWxpemUoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi4kbm90aWZ5KHsKICAgICAgICAgICAgICBncm91cDogJ2ZvbycsCiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ1ZpZGVvIFN0cmVhbSBGYWlsZWQgU3RvcCcsCiAgICAgICAgICAgICAgdGV4dDogJ1NvcnJ5IHlvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uICEnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGVkaXRJdGVtIChpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmNhbWVyYXMuaW5kZXhPZihpdGVtKQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCgogICAgZGVsZXRlSXRlbSAoaXRlbSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2FtZXJhcy5pbmRleE9mKGl0ZW0pCiAgICAgIGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPycpICYmIHRoaXMuY2FtZXJhcy5zcGxpY2UoaW5kZXgsIDEpCiAgICB9LAoKICAgIGNsb3NlICgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKQogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMQogICAgICB9LCAzMDApCiAgICB9LAoKICAgIHNhdmUgKCkgewogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmNhbWVyYXNbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbWVyYXMucHVzaCh0aGlzLmVkaXRlZEl0ZW0pCiAgICAgIH0KICAgICAgdGhpcy5jbG9zZSgpCiAgICB9LAoKICAgIGdldENvbG9yIChzdGF0dXMpIHsKICAgICAgaWYgKHN0YXR1cyA9PSAxKSByZXR1cm4gJ2dyZWVuJyAKICAgICAgZWxzZSByZXR1cm4gJ3JlZCcKICAgIH0sCgogICAgcmVsb2FkKCkgewogICAgICB0aGlzLmluaXRpYWxpemUoKQogICAgfQogIH0sCn0K"},{"version":3,"sources":["Camera.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Camera.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <v-row class=\"pa-2\">\n    <notifications width=\"50%\" position=\"bottom center\" group=\"foo\" />\n    <v-col>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"cameras\"\n        sort-by=\"calories\"\n        class=\"elevation-1\"\n      >\n\n        <template v-slot:top>\n          <v-toolbar>\n            <v-toolbar-title>Camera Data</v-toolbar-title>\n            <v-divider\n              class=\"mx-4\"\n              inset\n              vertical\n            ></v-divider>\n            <v-spacer></v-spacer>\n            <v-dialog v-model=\"dialog\" max-width=\"600px\">\n                <template v-slot:activator=\"{ on }\">\n                <v-btn color=\"primary\" dark class=\"mx-2\" to=\"camera/add\">Add CCTV</v-btn>\n                <v-btn color=\"info\" dark class=\"mx-2\" @click=\"reload\">Refresh</v-btn>\n                </template>\n                <v-card>\n                <v-card-title>\n                    <span class=\"headline\">{{ formTitle }}</span>\n                </v-card-title>\n\n                <v-card-text>\n                    <v-form\n                    ref=\"form\"\n                    lazy-validation\n                    >\n                    <v-container>\n                        <v-row>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"editedItem.id\" label=\"ID\" style=\"display:none\"></v-text-field>\n                            <v-text-field v-if=\"dialog\" autofocus v-model=\"editedItem.name\" label=\"Nama CCTV\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"editedItem.location\" label=\"Lokasi\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"editedItem.ip_stream\" label=\"IP Address\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-text-field v-model=\"editedItem.port\" label=\"Port\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-select\n                            v-model=\"editedItem.direction\"\n                            :items=\"direction\"\n                            label=\"Direction\"\n                            ></v-select>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-text-field type=\"number\" v-model=\"editedItem.scale\" min=\"20\" max=\"100\" label=\"Scale\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\">\n                            <v-select\n                            v-model=\"editedItem.status\"\n                            :items=\"status\"\n                            item-value=\"id\"\n                            item-text=\"name\"\n                            label=\"Status\"\n                            ></v-select>\n                        </v-col>\n                        </v-row>\n                    </v-container>\n                    </v-form>\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"close\">Cancel</v-btn>\n                    <v-btn color=\"blue darken-1\" text @click=\"save\">Save</v-btn>\n                </v-card-actions>\n                </v-card>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n        \n        <template v-slot:item.status=\"{ item }\">\n            <v-chip :color=\"getColor(item.status)\" dark>\n            <div v-if=\"item.status == 1\">Online <v-icon class=\"pl-2\" left >mdi-access-point-network</v-icon></div>\n            <div v-else>Offline <v-icon class=\"pl-2\" left >mdi-access-point-network-off</v-icon></div>\n            </v-chip>\n        </template>\n\n        <template v-slot:item.action=\"{ item }\">\n          <v-tooltip bottom v-if=\"item.status == 0\">\n                <template v-slot:activator=\"{ on }\">\n                    <v-icon\n                        v-on=\"on\"\n                        small\n                        class=\"mr-2\"\n                        @click=\"runCamera(item.id, item.port)\"\n                    >\n                        mdi-play\n                    </v-icon>\n                </template>\n                <span>Run Camera</span>\n            </v-tooltip>\n            <v-tooltip bottom v-if=\"item.status == 1\">\n                <template v-slot:activator=\"{ on }\">\n                    <v-icon\n                        v-on=\"on\"\n                        small\n                        class=\"mr-2\"\n                        @click=\"stopCamera(item.port)\"\n                    >\n                        mdi-stop\n                    </v-icon>\n                </template>\n                <span>Stop Camera</span>\n            </v-tooltip>   \n            <!-- <v-tooltip bottom>\n                <template v-slot:activator=\"{ on }\">\n                    <v-icon\n                        v-on=\"on\"\n                        small\n                        class=\"mr-2\"\n                    >\n                        mdi-map-marker\n                    </v-icon>\n                </template>\n                <span>Maps Location</span>\n            </v-tooltip> -->\n            <v-tooltip bottom>\n                <template v-slot:activator=\"{ on }\">\n                    <v-icon\n                        v-on=\"on\"\n                        small\n                        class=\"mr-2\"\n                        @click=\"editItem(item)\"\n                    >\n                        mdi-pencil\n                    </v-icon>\n                </template>\n                <span>Edit</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n                <template v-slot:activator=\"{ on }\">\n                    <v-icon\n                        v-on=\"on\"\n                        small\n                        class=\"mr-2\"\n                        @click=\"deleteItem(item)\"\n                    >\n                        mdi-delete\n                    </v-icon>\n                </template>\n                <span>Delete</span>\n            </v-tooltip>\n        </template>\n\n        <template v-slot:no-data>\n          <v-btn color=\"primary\" @click=\"initialize\">Reload</v-btn>\n        </template>\n      </v-data-table>\n    </v-col>\n    \n  </v-row>\n</template>\n\n<script>\n  export default {\n    data: () => ({\n      dialog: false,\n      headers: [\n        {\n          text: 'Camera',\n          align: 'left',\n          sortable: false,\n          value: 'name',\n        },\n        { text: 'Lokasi', value: 'location' },\n        { text: 'Port', value: 'port' },\n        { text: 'Ip Stream', value: 'ip_stream' },\n        { text: 'Status', value: 'status' },\n        { text: 'Actions', value: 'action', width: 180, sortable: false },\n      ],\n      cameras: [],\n      editedIndex: -1,\n      editedItem: {\n        name: '',\n        location: '',\n        port: '',\n        ip_stream: '',\n        scale: 100,\n        direction: 'horizontal',\n        status: 1,\n      },\n      defaultItem: {\n        name: '',\n        location: '',\n        port: '',\n        ip_stream: '',\n        scale: 100,\n        direction: 'horizontal',\n        status: 1,\n      },\n      direction : ['vertical', 'horizontal'],\n      status : [\n        {'id' : 1, 'name' : 'Active'},\n        {'id' : 0, 'name' : 'Deactive'},\n      ],\n    }),\n\n    computed: {\n      formTitle () {\n        return this.editedIndex === -1 ? 'New Item' : 'Edit Item'\n      },\n    },\n\n    watch: {\n      dialog (val) {\n        val || this.close()\n      },\n    },\n\n    created () {\n      this.initialize()\n    },\n\n    methods: {\n      async initialize () {\n          let _self = this\n          const { data } = await this.axios.get('http://127.0.0.1:8001/camera')\n          this.cameras = data\n\n          data.forEach((element, i) => {\n            this.axios.get('http://localhost:' + element.port).then(function(){\n              _self.cameras[i].status = 1\n            }).catch(function(error){\n                if (!error.response) {\n                  // network error\n                  _self.cameras[i].status = 0\n                } else {\n                  // http status code\n                  const code = error.response.status\n                  // response data\n                  // const response = error.response.data\n                  alert(\"Error: \" + code)\n                }\n            });\n          });\n      },\n\n      runCamera(id, port){\n        let self = this\n    \n          this.$notify({\n            group: 'foo',\n            title: 'Running Script',\n            text: 'Running script Success, please wait for camera stream',\n            duration: 20000,\n          });\n\n          setTimeout(() => { \n            this.axios.get('http://localhost:' + port).then(function(){\n              self.$notify({\n                group: 'foo',\n                type: 'success',\n                title: 'Video ready',\n                text: 'Camera video stream ready to use !',\n                duration: 10000,\n              });\n              self.initialize()\n            }).catch(function(error){\n                if (!error.response) {\n                  self.$notify({\n                    group: 'foo',\n                    type: 'error',\n                    title: 'Video Stream Failed',\n                    text: 'Cannot Connect to camera, check internet connection or camera server !',\n                    duration: 10000,\n                  });\n                  self.initialize()\n                } else {\n                  const code = error.response.status\n                  window.console.log(code)\n                  const response = error.response.data\n                  window.console.log(response)\n                }\n            });\n          }, 20000)\n\n          this.axios.post('http://127.0.0.1:8001/run', {id : id})\n      },\n\n      stopCamera(port){\n        let self = this\n        this.axios.post('http://127.0.0.1:' + port + '/stop', { action : 'stop' }).then(function(){\n          self.$notify({\n            group: 'foo',\n            type: 'success',\n            title: 'Stream success ',\n            text: 'Camera video stream success to stop !',\n            duration: 10000,\n          });\n          self.initialize()\n        }).catch(function(error){\n            if (!error.response) {\n              self.$notify({\n                group: 'foo',\n                type: 'error',\n                title: 'Video Stream Failed Stop',\n                text: 'Cannot Connect Stop Camera stream, please check connection !',\n                duration: 10000,\n              });\n              self.initialize()\n            } else {\n              self.$notify({\n                group: 'foo',\n                type: 'error',\n                title: 'Video Stream Failed Stop',\n                text: 'Sorry you do not have permission !',\n                duration: 5000,\n              });\n            }\n        });\n      },\n\n      editItem (item) {\n        this.editedIndex = this.cameras.indexOf(item)\n        this.editedItem = Object.assign({}, item)\n        this.dialog = true\n      },\n\n      deleteItem (item) {\n        const index = this.cameras.indexOf(item)\n        confirm('Are you sure you want to delete this item?') && this.cameras.splice(index, 1)\n      },\n\n      close () {\n        this.dialog = false\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n      save () {\n        if (this.editedIndex > -1) {\n          Object.assign(this.cameras[this.editedIndex], this.editedItem)\n        } else {\n          this.cameras.push(this.editedItem)\n        }\n        this.close()\n      },\n\n      getColor (status) {\n        if (status == 1) return 'green' \n        else return 'red'\n      },\n\n      reload() {\n        this.initialize()\n      }\n    },\n  }\n</script>"]}]}