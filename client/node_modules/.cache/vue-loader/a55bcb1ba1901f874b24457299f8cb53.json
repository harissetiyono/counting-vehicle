{"remainingRequest":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haris/Development/counting/client/src/pages/face_recognition/PersonForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haris/Development/counting/client/src/pages/face_recognition/PersonForm.vue","mtime":1578122756634},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haris/Development/counting/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haris/Development/counting/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsaXBBZGRyZXNzLCB1cmwsIG9yLCBudW1lcmljLCBiZXR3ZWVuLCBkZWNpbWFsIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGUxOiAxLAogICAgICAgICAgICBlcnJvcl9zaG93OiBmYWxzZSwKICAgICAgICAgICAgcGVyc29uX2RhdGE6IHsKICAgICAgICAgICAgICAgIG5payA6IG51bGwsCiAgICAgICAgICAgICAgICBhZGRyZXNzIDogbnVsbCwKICAgICAgICAgICAgICAgIHBsYWNlX29mX2JpcnRoIDogbnVsbCwKICAgICAgICAgICAgICAgIGRhdGVfb2ZfYmlydGggOiBudWxsLAogICAgICAgICAgICAgICAgZ2VuZGVyIDogJ0wnLAogICAgICAgICAgICAgICAgcmVsaWdpb24gOiAxLAogICAgICAgICAgICAgICAgbWFyaXRhbF9zdGF0dXMgOiAnQksnLAogICAgICAgICAgICAgICAgcHJvZmVzc2lvbiA6IDEsCiAgICAgICAgICAgICAgICBjaXRpemVuc2hpcCA6ICdXTkknLAogICAgICAgICAgICB9LAogICAgICAgICAgICBwaG90b3M6IFtdLAogICAgICAgICAgICBpbWdfdXJsOiBbXSwKCiAgICAgICAgICAgIGdlbmRlcl9pdGVtcyA6IFsKICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdMQUtJLUxBS0knICwgdmFsdWU6ICdMJ30sCiAgICAgICAgICAgICAgICB7IHRleHQgOiAnUEVSRU1QVUFOJyAsIHZhbHVlOiAnUCd9LAogICAgICAgICAgICBdLAogICAgICAgICAgICBtYXJpdGFsX3N0YXR1c19pdGVtcyA6IFsKICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdCZWx1bSBLYXdpbicgLCB2YWx1ZTogJ0JLJ30sCiAgICAgICAgICAgICAgICB7IHRleHQgOiAnS2F3aW4nICwgdmFsdWU6ICdLJ30sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlbGlnaW9uX2l0ZW1zIDogW10sCiAgICAgICAgICAgIHByb2Zlc3Npb25faXRlbXMgOiBbXSwKICAgICAgICAgICAgb3ZlcmxheTogZmFsc2UsCiAgICAgICAgfTsKICAgIH0sCgogICAgdmFsaWRhdGlvbnM6IHsKCiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy4kUHJvZ3Jlc3Muc3RhcnQoKQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuJHJlZnMubmlrLmZvY3VzKCkpCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICB0aGlzLmluaXRpYWxpemUodGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWRDb21ib2JveCgpCiAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCkKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGluaXRpYWxpemUobmlrKXsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfSVBfU0VSVkVSICsnL3BlcnNvbi8nICsgbmlrICsgJy9lZGl0JykKICAgICAgICAgICAgICAgIHRoaXMucGVyc29uX2RhdGEgPSBkYXRhLnBlcnNvbl9kYXRhCiAgICAgICAgICAgICAgICBkYXRhLnBob3Rvcy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgIHNlbGYuaW1nX3VybC5wdXNoKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCcgKyBlbGVtZW50KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coT2JqZWN0LmtleXMoZXJyb3IpLCBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGxvYWRDb21ib2JveCgpewogICAgICAgICAgICBjb25zdCByZXNwb25zZV9wcm9mZXNzaW9uID0gYXdhaXQgdGhpcy5heGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9JUF9TRVJWRVIgKycvcHJvZmVzc2lvbicpCiAgICAgICAgICAgIHRoaXMucHJvZmVzc2lvbl9pdGVtcyA9IHJlc3BvbnNlX3Byb2Zlc3Npb24uZGF0YQogICAgICAgICAgICBjb25zdCByZXNwb25zZV9yZWxpZ2lvbiA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfSVBfU0VSVkVSICsnL3JlbGlnaW9uJykKICAgICAgICAgICAgdGhpcy5yZWxpZ2lvbl9pdGVtcyA9IHJlc3BvbnNlX3JlbGlnaW9uLmRhdGEKICAgICAgICB9LAoKICAgICAgICBhc3luYyBzYXZlKCl7CiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IHRydWUKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCB0aGlzLmF4aW9zLnB1dChwcm9jZXNzLmVudi5WVUVfQVBQX0lQX1NFUlZFUiArICcvcGVyc29uLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHtwZXJzb25fZGF0YSA6IHRoaXMucGVyc29uX2RhdGEsIHBob3RvcyA6IHRoaXMuaW1nX3VybH0pCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlMSkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX0lQX1NFUlZFUiArICcvcGVyc29uJywgeyBwZXJzb25fZGF0YSA6IHRoaXMucGVyc29uX2RhdGEsIHBob3RvcyA6IHRoaXMuaW1nX3VybH0pCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlMikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlLAogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvZmFjZV9yZWNvZ25pdGlvbi9wZXJzb24nfSkKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlLAogICAgICAgICAgICAgICAgYWxlcnQoZXJyb3IpCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBuZXh0KCl7CiAgICAgICAgICAgIHRoaXMuZTEgPSAyCiAgICAgICAgfSwKCiAgICAgICAgY2hlY2soKXsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgICAgICAgIHRoaXMucGhvdG9zLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNlbGYuaW1nX3VybC5wdXNoKGV2ZW50LnRhcmdldC5yZXN1bHQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlbGVtZW50KQogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBkZWxldGVQaG90byhpbmRleCl7CiAgICAgICAgICAgIHRoaXMuaW1nX3VybC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["PersonForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"PersonForm.vue","sourceRoot":"src/pages/face_recognition","sourcesContent":["<template>\n  <v-stepper v-model=\"e1\">\n      <v-overlay :value=\"overlay\">\n            <v-row\n            align=\"center\"\n            justify=\"justify\"\n          >\n                <v-progress-linear\n                    color=\"white\"\n                    indeterminate\n                    rounded\n                    height=\"6\"\n                ></v-progress-linear>\n            </v-row>\n            <v-row\n                align=\"center\"\n                justify=\"justify\"\n            >\n                <v-chip\n                class=\"ma-4\"\n                color=\"green\"\n                text-color=\"white\"\n                >\n                Train Data in Process, Please wait...\n                </v-chip>\n            </v-row>\n        </v-overlay>\n    <v-stepper-header>\n      <v-stepper-step :complete=\"e1 > 1\" step=\"1\">Person Data</v-stepper-step>\n      <v-divider></v-divider>\n      <v-stepper-step :complete=\"e1 > 2\" step=\"2\">Person Photo</v-stepper-step>\n    </v-stepper-header>\n\n    <v-stepper-items>\n      <v-stepper-content step=\"1\">\n        <!-- <div v-if=\"error_show\">\n            <v-alert dense type=\"error\" outlined v-if=\"$v.person_data.$anyError\">\n                <div v-if=\"!$v.person_data.name.required\">Camera name is required</div>\n            </v-alert>\n            <v-alert dense type=\"error\" outlined v-if=\"!statusConnection\">\n                Cannot connect stream server!\n            </v-alert>\n        </div> -->\n\n        <v-card>\n            <v-row class=\"pa-2 mt-n4 mb-n4\">\n                <v-col cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">NIK</p>\n                    <v-text-field ref=\"nik\" v-model=\"person_data.nik\" solo></v-text-field>\n                </v-col>\n                <v-col cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Nama</p>\n                    <v-text-field v-model=\"person_data.name\" solo label=\"Isi nama lengkap tanpa gelar\"></v-text-field>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Tempat Lahir</p>\n                    <v-text-field v-model=\"person_data.place_of_birth\" solo label=\"Isi tempat lahir\"></v-text-field>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Tanggal Lahir</p>\n                    <v-text-field v-model=\"person_data.date_of_birth\" solo label=\"Isi tanggal lahir\"></v-text-field>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Alamat</p>\n                    <v-textarea\n                        v-model=\"person_data.address\"\n                        label=\"Alamat\"\n                        solo\n                        rows=\"1\"\n                        auto-grow\n                    ></v-textarea>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"3\">\n                    <p class=\"font-weight-regular mb-1\">Jenis Kelamin</p>\n                    <v-autocomplete\n                        v-model=\"person_data.gender\"\n                        :items=\"gender_items\"\n                        item-value=\"value\"\n                        item-text=\"text\"\n                        solo\n                    ></v-autocomplete>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"3\">\n                    <p class=\"font-weight-regular mb-1\">Agama</p>\n                    <v-autocomplete\n                        v-model=\"person_data.religion\"\n                        item-value=\"id\"\n                        item-text=\"religion_name\"\n                        :items=\"religion_items\"\n                        solo\n                    ></v-autocomplete>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Status Perkawinan</p>\n                    <v-autocomplete\n                    v-model=\"person_data.marital_status\"\n                    :items=\"marital_status_items\"\n                    item-value=\"value\"\n                    item-text=\"text\"\n                    label=\"Pilih jenis kelamin\"\n                    solo\n                    ></v-autocomplete>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Pekerjaan</p>\n                    <v-autocomplete\n                    v-model=\"person_data.profession\"\n                    :items=\"profession_items\"\n                    item-value=\"id\"\n                    item-text=\"profession_name\"\n                    label=\"Pilih jenis profession\"\n                    solo\n                    ></v-autocomplete>\n                </v-col>\n                <v-col class=\"mt-n10\" cols=\"6\">\n                    <p class=\"font-weight-regular mb-1\">Kewarganegaraan</p>\n                    <v-text-field v-model=\"person_data.citizenship\" solo label=\"Isi kewarganegaraan\"></v-text-field>\n                </v-col>\n            </v-row>\n            <v-btn\n                class=\"ma-2\"\n                color=\"primary\"\n                @click=\"next()\"\n            >\n            Continue\n            </v-btn>\n            <v-btn\n                class=\"ma-2\"\n                to=\"/face_recognition/person\"\n            >\n            Cancel\n            </v-btn>\n        </v-card>\n      </v-stepper-content>\n\n      <v-stepper-content step=\"2\">\n        <div v-if=\"error_show\">\n            <v-alert dense type=\"error\" outlined>\n                Please make line for counting vehicle!\n            </v-alert>\n        </div>\n        <v-file-input\n            v-model=\"photos\"\n            label=\"Photo input\"\n            accept=\"image/*\"\n            multiple\n            prepend-icon=\"mdi-camera\"\n            @change=\"check\"\n        ></v-file-input>\n            <v-row class=\"px-4\">\n                <v-col cols=\"12\">\n                    <v-row\n                        align=\"start\"\n                        justify=\"start\"\n                    >\n                        <v-card class=\"ma-2\"\n                            v-for=\"(item, index) in img_url\"\n                            :key=\"item\"\n                        >\n                            <v-img :src=\"item\" max-width=\"200\" height=\"250\"></v-img>\n                            <v-card-actions>\n                            <v-spacer></v-spacer>\n                                <v-btn small color=\"error\" fab @click=\"deletePhoto(index)\">\n                                    <v-icon>mdi-delete</v-icon>\n                                </v-btn>\n                            <v-spacer></v-spacer>\n                            </v-card-actions>\n                        </v-card>\n                    </v-row>\n                </v-col>\n            </v-row>\n\n        <v-btn @click=\"save\" color=\"primary\">Save</v-btn>\n        <v-btn text @click=\"e1 = 1\">Back</v-btn>\n      </v-stepper-content>\n\n    </v-stepper-items>\n  </v-stepper>\n</template>\n\n<script>\n// import { required, minLength,ipAddress, url, or, numeric, between, decimal } from 'vuelidate/lib/validators'\n  export default {\n    data () {\n        return {\n            e1: 1,\n            error_show: false,\n            person_data: {\n                nik : null,\n                address : null,\n                place_of_birth : null,\n                date_of_birth : null,\n                gender : 'L',\n                religion : 1,\n                marital_status : 'BK',\n                profession : 1,\n                citizenship : 'WNI',\n            },\n            photos: [],\n            img_url: [],\n\n            gender_items : [\n                { text : 'LAKI-LAKI' , value: 'L'},\n                { text : 'PEREMPUAN' , value: 'P'},\n            ],\n            marital_status_items : [\n                { text : 'Belum Kawin' , value: 'BK'},\n                { text : 'Kawin' , value: 'K'},\n            ],\n            religion_items : [],\n            profession_items : [],\n            overlay: false,\n        };\n    },\n\n    validations: {\n\n    },\n\n    created() {\n        this.$Progress.start()\n        this.$nextTick(() => this.$refs.nik.focus())\n        if (this.$route.params.id) {\n            this.initialize(this.$route.params.id)\n        }\n        this.loadCombobox()\n        this.$Progress.finish()\n    },\n\n    methods: {\n        async initialize(nik){\n            let self = this\n            try {\n                const { data } = await this.axios.get(process.env.VUE_APP_IP_SERVER +'/person/' + nik + '/edit')\n                this.person_data = data.person_data\n                data.photos.forEach(element => {\n                    self.img_url.push('data:image/jpeg;base64,' + element)\n                });\n            } catch (error) {\n                window.console.log(Object.keys(error), error.message);\n            }\n        },\n\n        async loadCombobox(){\n            const response_profession = await this.axios.get(process.env.VUE_APP_IP_SERVER +'/profession')\n            this.profession_items = response_profession.data\n            const response_religion = await this.axios.get(process.env.VUE_APP_IP_SERVER +'/religion')\n            this.religion_items = response_religion.data\n        },\n\n        async save(){\n            this.overlay = true\n            try {\n                if (this.$route.params.id) {\n                    const response1 = await this.axios.put(process.env.VUE_APP_IP_SERVER + '/person/' + this.$route.params.id, {person_data : this.person_data, photos : this.img_url})\n                    window.console.log(response1)\n                }else{\n                    const response2 = await this.axios.post(process.env.VUE_APP_IP_SERVER + '/person', { person_data : this.person_data, photos : this.img_url})\n                    window.console.log(response2)\n                }\n                this.overlay = false,\n                this.$router.push({path: '/face_recognition/person'})\n            } catch (error) {\n                this.overlay = false,\n                alert(error)\n            }\n        },\n\n        next(){\n            this.e1 = 2\n        },\n\n        check(){\n            let self = this\n            this.photos.forEach(element => {\n                let reader = new FileReader()\n                reader.onload = (event) => {\n                    self.img_url.push(event.target.result)\n                }\n                reader.readAsDataURL(element)\n            });\n        },\n\n        deletePhoto(index){\n            this.img_url.splice(index, 1)\n        }\n    }\n  }\n</script>"]}]}